const _timelineIdAttr="data-timeline-id",_timelineScrollClass="timeline-scroll",_timelineScrollSelector=`[${_timelineIdAttr}] ~ .`+_timelineScrollClass,_trackSelector="[data-timeline-track]",_eventSelector="[data-event-id]",_visTimelineClass="vis-timeline",_visTimelineSelector="."+_visTimelineClass,$visTimelineContainerMarkup=`<div class="${_visTimelineClass}"></div>`,_timelineViewportSelector=`[${_timelineIdAttr}]`,_yearInMs=31536e6,_zoomPaddingInYears=1,_zoomPaddingMobileInYears=3,_mobileBreakpoint=780;function waitFor(t){const i=e=>{t()?e():setTimeout(()=>i(e),500)};return new Promise(i)}Number.prototype.min=function(e){return this<e?e:this.valueOf()},Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};let $timelines=[];const fetchTimelines=()=>{$timelines=document.querySelectorAll(_timelineScrollSelector)},visTimelines={};function prepareVisDataItem(e,t){var{startdate:i,enddate:n}=e.dataset,t={id:t,start:i,content:e};return void 0!==n&&""!=n&&(t.end=n),t}function getVisDataFromEvents(e){return new vis.DataSet(Array.from(e).map(prepareVisDataItem))}const initTimelines=e=>{e.forEach(function(e){var t=e.querySelectorAll(_eventSelector),i=($(e).append($visTimelineContainerMarkup),e.querySelector(_visTimelineSelector)),n=getVisDataFromEvents(t);let a=2;""!==e.parentElement.dataset?.timelineZoom&&(a=parseInt(e.parentElement.dataset.timelineZoom));var{min:t,max:o}=getMinMaxDatesFromEvents(t),t={horizontalScroll:!0,locale:"de",selectable:!1,showMajorLabels:!0,showMinorLabels:!0,showTooltips:!1,stack:!0,stackSubgroups:!0,zoomable:!1,zoomKey:"ctrlKey",zoomMin:_yearInMs*a,zoomMax:_yearInMs*a,groupHeightMode:"fixed",showCurrentTime:!1,limitSize:!1,min:t,max:o},o=new vis.Timeline(i,n,t),i=e.parentElement.querySelector(_timelineViewportSelector).dataset.timelineId;(visTimelines[i]=o).on("rangechange",function(e){const t=void 0!==e.event?.target?e.event.target.closest("."+_timelineScrollClass):void 0,i=e.start.getTime(),n=e.end.getTime(),a=Math.round((i+n)/2);Object.keys(visTimelines).forEach(function(e){void 0!==t&&e!==t?.parentElement.querySelector(_timelineViewportSelector).dataset.timelineId&&visTimelines[e].moveTo(a,{animation:{duration:200,easingFunction:"easeInOutQuad"}})})}),e.querySelector(_trackSelector).style.display="none"})};function getMinMaxDatesFromEvents(e){let i=new Date,n=new Date(0),t=(e.forEach(function(e){var t=new Date(e.dataset.startdate);t<i&&(i=t),""!==e.dataset?.enddate&&void 0!==e.dataset?.enddate?(e=new Date(e.dataset.enddate))>n&&(n=e):t>n&&(n=t)}),_zoomPaddingInYears);return window.innerWidth<=_mobileBreakpoint&&(t=_zoomPaddingMobileInYears),i.setFullYear(i.getFullYear()-t),n.setFullYear(n.getFullYear()+t),{min:i,max:n}}const areTimelinesReadyForInit=()=>0<$timelines.length||(setTimeout(fetchTimelines,1e3),!1);waitFor(areTimelinesReadyForInit).then(()=>initTimelines($timelines));
//# sourceMappingURL=synced-timelines.min.js.map